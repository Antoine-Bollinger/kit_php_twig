(()=>{var o=class{#e=document.querySelectorAll("pre");constructor(){this._setCodeCopyLink()}_setCodeCopyLink(){this.#e&&this.#e.forEach(t=>{let e=document.createElement("a");e.innerHTML="\u{1F4CB}",e.href="#",e.title="Copy";let r=()=>{e.innerHTML="\u{1F4CB}",t.classList.remove("snapshot")};e.addEventListener("click",i=>{i.preventDefault(),r();let s=t.querySelector("code");s&&(navigator.clipboard.writeText(s.innerText),t.classList.add("snapshot"),e.innerHTML="\u2705",setTimeout(()=>{r()},400))}),t.append(e)})}};var n=class{#e;#t;constructor(){this.#e=document.forms.namedItem("login"),this.#t=document.forms.namedItem("logout"),this.init()}loginHandler(){this.#e?.addEventListener("submit",async t=>{t.preventDefault();let e=t.target,i=await(await fetch(e.action,{method:"POST",body:new FormData(e)})).json();localStorage.setItem("token",i.data.token),localStorage.setItem("id",i.data.id),location.reload()})}logoutHandler(){this.#t?.addEventListener("submit",async t=>{t.preventDefault();let e=t.target;await fetch(e.action,{headers:{Authorization:localStorage.getItem("token")||"","X-Client-ID":localStorage.getItem("id")||""},method:"POST"}),localStorage.removeItem("token"),localStorage.removeItem("id"),location.reload()})}async init(){this.loginHandler(),this.logoutHandler()}};var a=class{static hello(){console.log(`\u{1F525} Welcome to partez! \u{1F525}\r
Please feel free to edit js in public/js directory.`)}static init(){new o,new n}};a.hello();a.init();})();
